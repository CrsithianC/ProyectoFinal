<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blockchain en el Sistema Hospitalario Espa√±ol</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals -->
    <!-- Application Structure Plan: He dise√±ado la aplicaci√≥n en torno a un flujo narrativo tem√°tico para guiar al usuario. Comienza con una introducci√≥n (El Problema), presenta la tecnolog√≠a (La Soluci√≥n), permite la exploraci√≥n profunda a trav√©s de una secci√≥n de casos de uso interactivos, y finalmente presenta un an√°lisis comparativo con un gr√°fico (Beneficios vs. Desaf√≠os). Esta estructura se eligi√≥ porque convierte un informe denso en un viaje de descubrimiento, haciendo que la informaci√≥n compleja sea m√°s digerible y atractiva que un simple recorrido lineal del documento original. La interactividad se centra en la secci√≥n de casos de uso para fomentar la exploraci√≥n activa. -->
    <!-- Visualization & Content Choices: 1. Desaf√≠os Actuales -> Meta: Informar -> Presentaci√≥n: Tarjetas interactivas con texto expandible -> Interacci√≥n: Clic para mostrar/ocultar detalles -> Justificaci√≥n: Fomenta la participaci√≥n del usuario desde el principio. 2. Caracter√≠sticas de Blockchain -> Meta: Organizar -> Presentaci√≥n: Diagrama de cuadr√≠cula con iconos (HTML/CSS) -> Interacci√≥n: Est√°tica -> Justificaci√≥n: Presenta conceptos clave de forma clara y visualmente ordenada. 3. Casos de Uso -> Meta: Explorar en profundidad -> Presentaci√≥n: Pesta√±as interactivas que actualizan un √°rea de contenido con texto y diagramas de flujo simples (HTML/CSS) -> Interacci√≥n: Clic en la pesta√±a para cambiar el contenido din√°micamente -> Justificaci√≥n: Permite al usuario centrarse en un √°rea de inter√©s a la vez, evitando la sobrecarga de informaci√≥n. 4. Beneficios vs. Desaf√≠os -> Meta: Comparar -> Presentaci√≥n: Gr√°fico de barras horizontal interactivo -> Interacci√≥n: Botones para alternar entre vistas de 'Beneficios', 'Desaf√≠os' y 'Ambos' -> Justificaci√≥n: Transforma listas de texto en una comparaci√≥n visual cuantitativa, destacando las magnitudes relativas de cada punto. Se utiliza Chart.js para su creaci√≥n. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F7F4;
            color: #374151;
        }
        .active-nav {
            color: #047857;
            font-weight: 600;
        }
        .inactive-nav {
             color: #4B5563;
        }
        .active-tab {
            background-color: #047857;
            color: #ffffff;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        .inactive-tab {
            background-color: #E5E7EB;
            color: #374151;
        }
        .content-card {
            transition: all 0.3s ease-in-out;
            visibility: visible;
            opacity: 1;
            max-height: 1000px;
        }
        .content-card.hidden-section {
            visibility: hidden;
            opacity: 0;
            max-height: 0;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 50vh;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 500px;
            }
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <h1 class="text-xl font-bold text-emerald-800">Salud Digital con Blockchain</h1>
            <ul class="hidden md:flex space-x-8">
                <li><a href="#problema" class="inactive-nav hover:text-emerald-700 transition-colors">El Problema</a></li>
                <li><a href="#solucion" class="inactive-nav hover:text-emerald-700 transition-colors">La Soluci√≥n</a></li>
                <li><a href="#aplicaciones" class="inactive-nav hover:text-emerald-700 transition-colors">Aplicaciones</a></li>
                <li><a href="#analisis" class="inactive-nav hover:text-emerald-700 transition-colors">An√°lisis</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="hero" class="py-20 md:py-32 text-center bg-white">
            <div class="container mx-auto px-6">
                <h2 class="text-4xl md:text-6xl font-bold text-gray-800 mb-4">Revolucionando la Sanidad Espa√±ola</h2>
                <p class="text-lg md:text-xl text-gray-600 max-w-3xl mx-auto">Explora c√≥mo la tecnolog√≠a blockchain puede transformar el sistema hospitalario, mejorando la seguridad, eficiencia y la atenci√≥n al paciente.</p>
            </div>
        </section>

        <section id="problema" class="py-16 md:py-24">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h3 class="text-3xl font-bold text-gray-800 mb-2">Desaf√≠os del Sistema Actual</h3>
                    <p class="text-gray-600 max-w-2xl mx-auto">El Sistema Nacional de Salud, a pesar de su fortaleza, enfrenta retos clave que la tecnolog√≠a puede ayudar a resolver. Haz clic en cada tarjeta para conocer m√°s.</p>
                </div>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="bg-white p-6 rounded-lg shadow-md cursor-pointer challenge-card">
                        <h4 class="text-xl font-semibold mb-2 text-emerald-800">1. Fragmentaci√≥n de Datos</h4>
                        <p class="text-gray-600 challenge-desc hidden">Los registros m√©dicos dispersos dificultan la continuidad asistencial y el intercambio de informaci√≥n vital entre profesionales.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md cursor-pointer challenge-card">
                        <h4 class="text-xl font-semibold mb-2 text-emerald-800">2. Seguridad y Privacidad</h4>
                        <p class="text-gray-600 challenge-desc hidden">Los sistemas actuales son vulnerables a ciberataques, poniendo en riesgo la informaci√≥n sensible del paciente y el cumplimiento del GDPR.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md cursor-pointer challenge-card">
                        <h4 class="text-xl font-semibold mb-2 text-emerald-800">3. Ineficiencia Administrativa</h4>
                        <p class="text-gray-600 challenge-desc hidden">Procesos como la facturaci√≥n y la gesti√≥n de suministros son lentos, complejos y propensos a errores humanos.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md cursor-pointer challenge-card">
                        <h4 class="text-xl font-semibold mb-2 text-emerald-800">4. Trazabilidad de F√°rmacos</h4>
                        <p class="text-gray-600 challenge-desc hidden">La dificultad para rastrear medicamentos abre la puerta a falsificaciones y complica la retirada de lotes defectuosos.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md cursor-pointer challenge-card">
                        <h4 class="text-xl font-semibold mb-2 text-emerald-800">5. Compartici√≥n para Investigaci√≥n</h4>
                        <p class="text-gray-600 challenge-desc hidden">Compartir datos anonimizados para la investigaci√≥n cl√≠nica es un proceso engorroso que frena la innovaci√≥n m√©dica.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="solucion" class="py-16 md:py-24 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h3 class="text-3xl font-bold text-gray-800 mb-2">Blockchain: Un Nuevo Paradigma</h3>
                    <p class="text-gray-600 max-w-2xl mx-auto">Blockchain es un registro digital descentralizado e inmutable que ofrece una base segura y transparente para una nueva generaci√≥n de aplicaciones sanitarias.</p>
                </div>
                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8 text-center">
                    <div class="p-4">
                        <div class="w-16 h-16 mx-auto mb-4 flex items-center justify-center rounded-full bg-emerald-100 text-emerald-600 text-3xl">üîó</div>
                        <h4 class="text-lg font-semibold mb-1">Inmutabilidad</h4>
                        <p class="text-gray-600 text-sm">Los registros, una vez a√±adidos, no pueden ser alterados, garantizando la integridad de los datos m√©dicos.</p>
                    </div>
                    <div class="p-4">
                        <div class="w-16 h-16 mx-auto mb-4 flex items-center justify-center rounded-full bg-emerald-100 text-emerald-600 text-3xl">üåê</div>
                        <h4 class="text-lg font-semibold mb-1">Descentralizaci√≥n</h4>
                        <p class="text-gray-600 text-sm">Elimina el punto √∫nico de fallo. La informaci√≥n es validada y compartida por m√∫ltiples participantes en la red.</p>
                    </div>
                    <div class="p-4">
                        <div class="w-16 h-16 mx-auto mb-4 flex items-center justify-center rounded-full bg-emerald-100 text-emerald-600 text-3xl">üõ°Ô∏è</div>
                        <h4 class="text-lg font-semibold mb-1">Seguridad Criptogr√°fica</h4>
                        <p class="text-gray-600 text-sm">Las transacciones est√°n protegidas con criptograf√≠a avanzada, asegurando la confidencialidad y el acceso.</p>
                    </div>
                    <div class="p-4">
                        <div class="w-16 h-16 mx-auto mb-4 flex items-center justify-center rounded-full bg-emerald-100 text-emerald-600 text-3xl">üìÑ</div>
                        <h4 class="text-lg font-semibold mb-1">Contratos Inteligentes</h4>
                        <p class="text-gray-600 text-sm">Acuerdos autoejecutables que automatizan procesos como pagos o consentimientos cuando se cumplen las condiciones.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="aplicaciones" class="py-16 md:py-24">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h3 class="text-3xl font-bold text-gray-800 mb-2">Casos de Uso Interactivos</h3>
                    <p class="text-gray-600 max-w-2xl mx-auto">Selecciona una aplicaci√≥n para descubrir c√≥mo la tecnolog√≠a blockchain puede transformar √°reas espec√≠ficas del sistema hospitalario.</p>
                </div>
                <div class="flex flex-wrap justify-center gap-2 md:gap-4 mb-8">
                    <button data-tab="rme" class="app-tab py-2 px-4 rounded-full text-sm font-semibold transition-all duration-300 active-tab">Registros M√©dicos</button>
                    <button data-tab="suministro" class="app-tab py-2 px-4 rounded-full text-sm font-semibold transition-all duration-300 inactive-tab">Cadena de Suministro</button>
                    <button data-tab="consentimiento" class="app-tab py-2 px-4 rounded-full text-sm font-semibold transition-all duration-300 inactive-tab">Consentimiento del Paciente</button>
                    <button data-tab="pagos" class="app-tab py-2 px-4 rounded-full text-sm font-semibold transition-all duration-300 inactive-tab">Pagos y Seguros</button>
                    <button data-tab="investigacion" class="app-tab py-2 px-4 rounded-full text-sm font-semibold transition-all duration-300 inactive-tab">Investigaci√≥n Cl√≠nica</button>
                </div>
                <div id="app-content-area" class="bg-white p-8 rounded-lg shadow-xl">
                </div>
            </div>
        </section>
        
        <section id="analisis" class="py-16 md:py-24 bg-white">
            <div class="container mx-auto px-6">
                 <div class="text-center mb-12">
                    <h3 class="text-3xl font-bold text-gray-800 mb-2">An√°lisis Comparativo: Beneficios vs. Desaf√≠os</h3>
                    <p class="text-gray-600 max-w-2xl mx-auto">Visualiza el impacto potencial de los beneficios frente a la dificultad de los desaf√≠os de implementaci√≥n. Usa los botones para filtrar la vista.</p>
                </div>
                 <div class="flex justify-center gap-4 mb-8">
                    <button id="show-benefits" class="py-2 px-4 rounded-md text-sm font-semibold bg-emerald-600 text-white shadow-sm hover:bg-emerald-700 transition-all">Ver Beneficios</button>
                    <button id="show-challenges" class="py-2 px-4 rounded-md text-sm font-semibold bg-rose-600 text-white shadow-sm hover:bg-rose-700 transition-all">Ver Desaf√≠os</button>
                    <button id="show-all" class="py-2 px-4 rounded-md text-sm font-semibold bg-gray-600 text-white shadow-sm hover:bg-gray-700 transition-all">Ver Ambos</button>
                </div>
                <div class="chart-container">
                    <canvas id="analysisChart"></canvas>
                </div>
            </div>
        </section>

    </main>
    
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-6 text-center">
            <p>&copy; 2025 - Informe Interactivo sobre Blockchain en la Sanidad. Creado para demostraci√≥n.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const challengeCards = document.querySelectorAll('.challenge-card');
            challengeCards.forEach(card => {
                card.addEventListener('click', () => {
                    const desc = card.querySelector('.challenge-desc');
                    desc.classList.toggle('hidden');
                });
            });

            const appTabs = document.querySelectorAll('.app-tab');
            const appContentArea = document.getElementById('app-content-area');
            
            const appContent = {
                rme: {
                    title: 'Registros M√©dicos Electr√≥nicos (RME) Interoperables y Seguros',
                    description: 'Cada paciente obtiene un identificador √∫nico en la blockchain, donde se registra de forma segura y cronol√≥gica todo su historial m√©dico. El paciente mantiene el control total sobre qui√©n accede a su informaci√≥n.',
                    improvement: 'Elimina la fragmentaci√≥n de datos. Cualquier profesional autorizado (con consentimiento del paciente) puede acceder al historial completo y actualizado, mejorando la calidad y rapidez del diagn√≥stico y tratamiento. La inmutabilidad garantiza la integridad del historial cl√≠nico.',
                    diagram: `
                        <div class="mt-4 border-t pt-4">
                            <h5 class="font-semibold mb-2">Flujo Simplificado:</h5>
                            <div class="flex items-center justify-between text-center text-xs md:text-sm">
                                <div class="w-1/4 p-2 bg-emerald-50 rounded-md">Paciente crea<br>registro</div>
                                <div class="flex-1 text-gray-400">‚Üí</div>
                                <div class="w-1/4 p-2 bg-emerald-50 rounded-md">Datos se a√±aden<br>a la cadena</div>
                                <div class="flex-1 text-gray-400">‚Üí</div>
                                <div class="w-1/4 p-2 bg-emerald-50 rounded-md">Paciente otorga<br>acceso a M√©dico</div>
                                <div class="flex-1 text-gray-400">‚Üí</div>
                                <div class="w-1/4 p-2 bg-emerald-50 rounded-md">M√©dico consulta<br>historial unificado</div>
                            </div>
                        </div>
                    `
                },
                suministro: {
                    title: 'Gesti√≥n de la Cadena de Suministro Farmac√©utica',
                    description: 'Se registra cada etapa del ciclo de vida de un medicamento en la blockchain, desde su fabricaci√≥n y lote hasta la dispensaci√≥n en la farmacia del hospital.',
                    improvement: 'Combate la falsificaci√≥n de medicamentos al permitir una trazabilidad completa y verificable. Los hospitales pueden autenticar el origen y recorrido de cada f√°rmaco, reduciendo riesgos para los pacientes y facilitando retiradas de lotes.',
                    diagram: `
                        <div class="mt-4 border-t pt-4">
                            <h5 class="font-semibold mb-2">Trazabilidad del F√°rmaco:</h5>
                            <div class="flex items-center justify-between text-center text-xs md:text-sm">
                                <div class="w-1/5 p-2 bg-blue-50 rounded-md">Fabricante</div>
                                <div class="flex-1 text-gray-400">‚Üí</div>
                                <div class="w-1/5 p-2 bg-blue-50 rounded-md">Distribuidor</div>
                                <div class="flex-1 text-gray-400">‚Üí</div>
                                <div class="w-1/5 p-2 bg-blue-50 rounded-md">Almac√©n</div>
                                <div class="flex-1 text-gray-400">‚Üí</div>
                                <div class="w-1/5 p-2 bg-blue-50 rounded-md">Hospital</div>
                                <div class="flex-1 text-gray-400">‚Üí</div>
                                <div class="w-1/5 p-2 bg-blue-50 rounded-md">Paciente</div>
                            </div>
                        </div>
                    `
                },
                consentimiento: {
                    title: 'Gesti√≥n de Consentimientos y Privacidad del Paciente',
                    description: 'Los pacientes gestionan sus consentimientos para el uso de sus datos a trav√©s de contratos inteligentes. Cada acceso requiere una autorizaci√≥n expl√≠cita y queda registrado de forma inmutable.',
                    improvement: 'Fortalece dr√°sticamente la privacidad del paciente y el cumplimiento del GDPR. Otorga a los individuos un control granular y auditable sobre qui√©n, cu√°ndo y para qu√© se accede a su informaci√≥n personal.',
                    diagram: `
                        <div class="mt-4 border-t pt-4">
                            <h5 class="font-semibold mb-2">Proceso de Consentimiento:</h5>
                            <div class="flex flex-col md:flex-row items-center justify-between text-center text-xs md:text-sm gap-2">
                                <div class="w-full md:w-1/3 p-2 bg-yellow-50 rounded-md">1. Investigador solicita acceso a datos anonimizados.</div>
                                <div class="text-gray-400">‚Üì</div>
                                <div class="w-full md:w-1/3 p-2 bg-yellow-50 rounded-md">2. Contrato inteligente verifica el consentimiento del paciente.</div>
                                <div class="text-gray-400">‚Üì</div>
                                <div class="w-full md:w-1/3 p-2 bg-yellow-50 rounded-md">3. Acceso concedido/denegado y registrado en la cadena.</div>
                            </div>
                        </div>
                    `
                },
                pagos: {
                    title: 'Automatizaci√≥n de Pagos y Reclamaciones de Seguros',
                    description: 'Los contratos inteligentes automatizan los procesos de facturaci√≥n y reclamaci√≥n entre hospitales, aseguradoras y el sistema p√∫blico. La finalizaci√≥n de un tratamiento puede activar autom√°ticamente la facturaci√≥n.',
                    improvement: 'Reduce dr√°sticamente los tiempos de procesamiento, los errores administrativos y los costes de gesti√≥n. Aumenta la eficiencia y transparencia financiera del sistema, agilizando los flujos de caja.',
                     diagram: `
                        <div class="mt-4 border-t pt-4">
                            <h5 class="font-semibold mb-2">Flujo de Facturaci√≥n Automatizada:</h5>
                            <div class="flex items-center justify-between text-center text-xs md:text-sm">
                                <div class="w-1/4 p-2 bg-red-50 rounded-md">Fin del<br>Tratamiento</div>
                                <div class="flex-1 text-gray-400">‚Üí</div>
                                <div class="w-1/4 p-2 bg-red-50 rounded-md">Contrato Inteligente<br>genera factura</div>
                                <div class="flex-1 text-gray-400">‚Üí</div>
                                <div class="w-1/4 p-2 bg-red-50 rounded-md">Env√≠o a<br>Aseguradora/SNS</div>
                                 <div class="flex-1 text-gray-400">‚Üí</div>
                                <div class="w-1/4 p-2 bg-red-50 rounded-md">Pago<br>Verificado</div>
                            </div>
                        </div>
                    `
                },
                investigacion: {
                    title: 'Investigaci√≥n Cl√≠nica con Datos Anonimizados',
                    description: 'Los investigadores pueden solicitar acceso a grandes conjuntos de datos de pacientes, anonimizados y agregados de forma segura a trav√©s de la blockchain, siempre con el consentimiento previo del paciente.',
                    improvement: 'Acelera el descubrimiento de nuevos tratamientos y el avance m√©dico. Facilita la colaboraci√≥n √©tica y eficiente para la investigaci√≥n, protegiendo al mismo tiempo la identidad y la privacidad de los individuos.',
                     diagram: `
                        <div class="mt-4 border-t pt-4">
                            <h5 class="font-semibold mb-2">Compartici√≥n Segura de Datos:</h5>
                            <div class="flex items-center justify-between text-center text-xs md:text-sm">
                                <div class="w-1/3 p-2 bg-purple-50 rounded-md">Datos de Pacientes<br>(Anonimizados)</div>
                                <div class="flex-1 text-gray-400">‚Üí</div>
                                <div class="w-1/3 p-2 bg-purple-50 rounded-md">Pool de Datos<br>en Blockchain</div>
                                <div class="flex-1 text-gray-400">‚Üí</div>
                                <div class="w-1/3 p-2 bg-purple-50 rounded-md">Acceso controlado<br>para Investigaci√≥n</div>
                            </div>
                        </div>
                    `
                }
            };
            
            function updateAppContent(tabKey) {
                const content = appContent[tabKey];
                if (content) {
                    appContentArea.innerHTML = `
                        <div class="content-card">
                            <h4 class="text-2xl font-bold text-emerald-800 mb-4">${content.title}</h4>
                            <p class="text-gray-700 mb-4">${content.description}</p>
                            <div class="bg-emerald-50 border-l-4 border-emerald-500 text-emerald-800 p-4 rounded-r-lg">
                                <p class="font-semibold">Mejora Clave:</p>
                                <p>${content.improvement}</p>
                            </div>
                            ${content.diagram || ''}
                        </div>
                    `;
                }
            }
            
            appTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    appTabs.forEach(t => {
                        t.classList.remove('active-tab');
                        t.classList.add('inactive-tab');
                    });
                    tab.classList.add('active-tab');
                    tab.classList.remove('inactive-tab');
                    
                    const tabKey = tab.dataset.tab;
                    updateAppContent(tabKey);
                });
            });

            updateAppContent('rme');
            
            const benefitsData = {
                labels: ['Mayor Seguridad', 'Control del Paciente', 'Interoperabilidad', 'Transparencia', 'Eficiencia Operativa', 'Reducci√≥n de Errores'],
                datasets: [{
                    label: 'Impacto del Beneficio',
                    data: [9, 9, 8, 8, 7, 7],
                    backgroundColor: 'rgba(16, 185, 129, 0.6)',
                    borderColor: 'rgba(5, 150, 105, 1)',
                    borderWidth: 1
                }]
            };

            const challengesData = {
                labels: ['Coste Implementaci√≥n', 'Regulaci√≥n y Ley', 'Interoperabilidad Legada', 'Escalabilidad', 'Gobernanza Red', 'Aceptaci√≥n Cultural'],
                datasets: [{
                    label: 'Dificultad del Desaf√≠o',
                    data: [9, 8, 8, 7, 7, 6],
                    backgroundColor: 'rgba(225, 29, 72, 0.6)',
                    borderColor: 'rgba(190, 18, 60, 1)',
                    borderWidth: 1
                }]
            };

            const allData = {
                 labels: [...benefitsData.labels, ...challengesData.labels],
                 datasets: [
                    { ...benefitsData.datasets[0] },
                    { ...challengesData.datasets[0] }
                 ]
            };
            
            const ctx = document.getElementById('analysisChart').getContext('2d');
            const analysisChart = new Chart(ctx, {
                type: 'bar',
                data: benefitsData,
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            beginAtZero: true,
                            max: 10,
                            title: {
                                display: true,
                                text: 'Puntuaci√≥n (Impacto / Dificultad)'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: true
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed.x !== null) {
                                        label += context.parsed.x;
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });

            document.getElementById('show-benefits').addEventListener('click', () => {
                analysisChart.data = benefitsData;
                analysisChart.options.plugins.legend.display = true;
                analysisChart.update();
            });

             document.getElementById('show-challenges').addEventListener('click', () => {
                analysisChart.data = challengesData;
                analysisChart.options.plugins.legend.display = true;
                analysisChart.update();
            });
            
             document.getElementById('show-all').addEventListener('click', () => {
                analysisChart.data = allData;
                analysisChart.options.plugins.legend.display = true;
                analysisChart.update();
            });
        });
    </script>
</body>
</html>
