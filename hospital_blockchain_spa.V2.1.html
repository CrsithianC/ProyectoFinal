<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión Médica Inteligente con Blockchain</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: 'Inter', sans-serif; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 10px;}
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px;}
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
        .active-nav { color: #0369a1; border-bottom: 2px solid #0369a1; }
        .tab-button.active { background-color: #0d9488; color: white; }
        .tab-button { transition: all 0.3s ease; }
        .chart-container { position: relative; width: 100%; max-width: 600px; margin-left: auto; margin-right: auto; height: 320px; max-height: 400px; }
        @media (min-width: 768px) { .chart-container { height: 400px; } }
        .architecture-diagram .box {
            border: 2px solid #94a3b8;
            padding: 0.75rem;
            border-radius: 0.5rem;
            background-color: #f8fafc;
            text-align: center;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
        }
        .architecture-diagram .connector {
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0.5rem 0;
            color: #334155;
        }
        .architecture-diagram .connector .line {
            height: 2px;
            background-color: #334155;
            flex-grow: 1;
        }
         .architecture-diagram .arrow-down::after {
            content: '▼';
            font-size: 1.25rem;
            color: #334155;
            display: block;
        }
        .architecture-diagram .group-box {
            border: 2px dashed #0d9488;
            padding: 1rem;
            border-radius: 0.75rem;
            background-color: #f0fdfa;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 antialiased">

    <header class="bg-white shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <a href="#inicio" class="text-2xl font-bold text-sky-700">SaludChain</a>
            <div class="space-x-4">
                <a href="#inicio" class="nav-link hover:text-sky-700 px-3 py-2 rounded-md text-sm font-medium">Inicio</a>
                <a href="#solucion" class="nav-link hover:text-sky-700 px-3 py-2 rounded-md text-sm font-medium">La Solución</a>
                <a href="#impacto" class="nav-link hover:text-sky-700 px-3 py-2 rounded-md text-sm font-medium">Impacto</a>
                <a href="#arquitectura" class="nav-link hover:text-sky-700 px-3 py-2 rounded-md text-sm font-medium">Arquitectura</a>
                <a href="#contacto" class="nav-link hover:text-sky-700 px-3 py-2 rounded-md text-sm font-medium">Contacto</a>
            </div>
        </nav>
    </header>

    <main>
        <section id="inicio" class="min-h-screen bg-gradient-to-br from-sky-100 via-slate-50 to-teal-100 flex items-center justify-center py-20 px-4">
            <div class="text-center max-w-3xl">
                <h1 class="text-5xl md:text-6xl font-extrabold text-sky-700 mb-6">
                    Revolucionando la Gestión Hospitalaria con <span class="text-teal-600">Blockchain</span>
                </h1>
                <p class="text-lg md:text-xl text-slate-700 mb-8">
                    Descubra cómo nuestra solución basada en Hyperledger Fabric está transformando la administración médica, garantizando la trazabilidad, seguridad y eficiencia en cada interacción.
                </p>
                <div class="space-x-4 flex justify-center items-center flex-wrap gap-4">
                    <a href="#solucion" class="bg-teal-600 hover:bg-teal-700 text-white font-semibold py-3 px-8 rounded-lg shadow-lg transition duration-300 text-lg">Conozca el Proyecto</a>
                    <a href="#contacto" class="bg-transparent hover:bg-teal-50 text-teal-600 font-semibold py-3 px-8 rounded-lg border-2 border-teal-600 transition duration-300 text-lg">Solicite una Demo</a>
                    <button id="connectFabricBtn" class="bg-sky-700 hover:bg-sky-800 text-white font-semibold py-3 px-8 rounded-lg shadow-lg transition duration-300 text-lg">Conectar a Fabric (Mock)</button>
                </div>
                <p id="fabricStatus" class="mt-4 text-slate-700 text-sm"></p>
            </div>
        </section>

        <section id="solucion" class="py-16 md:py-24 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12 md:mb-16">
                    <h2 class="text-3xl md:text-4xl font-bold text-sky-700 mb-4">Nuestra Solución Blockchain para la Salud</h2>
                    <p class="text-lg text-slate-600 max-w-2xl mx-auto">Un enfoque integral para modernizar la gestión médica, aprovechando el poder de Hyperledger Fabric.</p>
                </div>

                <div class="mb-12 md:mb-16 p-6 md:p-8 bg-sky-50 rounded-xl shadow-lg">
                    <h3 class="text-2xl font-semibold text-sky-700 mb-3">Nuestro Compromiso: La Salud Digital del Mañana, Hoy.</h3>
                    <p class="text-slate-700 mb-4">
                        En [Nombre de su Empresa/Organización], creemos que la tecnología blockchain es el motor para una transformación profunda en el sector salud. Nuestro proyecto se enfoca en desarrollar una solución integral que aprovecha las características únicas de Hyperledger Fabric para resolver algunos de los problemas más apremiantes en la gestión hospitalaria.
                    </p>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <h4 class="text-xl font-semibold text-teal-600 mb-2">¿Qué es Hyperledger Fabric y por qué en la Salud?</h4>
                            <p class="text-slate-600 text-sm">Hyperledger Fabric es una plataforma blockchain de grado empresarial, permisionada, diseñada para alta confidencialidad, resiliencia y escalabilidad. Su arquitectura modular y redes permisionadas son ideales para la privacidad y seguridad de datos críticos en hospitales.</p>
                        </div>
                        <div>
                            <h4 class="text-xl font-semibold text-teal-600 mb-2">Ventaja Clave en Salud</h4>
                            <p class="text-slate-600 text-sm">A diferencia de blockchains públicas, Fabric permite redes privadas donde solo nodos autorizados acceden a la información, garantizando confidencialidad y cumplimiento normativo (GDPR, HIPAA).</p>
                        </div>
                    </div>
                     <p class="mt-4 text-lg font-semibold text-sky-700">Nuestra Visión: <span class="text-slate-700 font-normal">Ser líderes en la implementación de soluciones blockchain que empoderen a las instituciones de salud, mejoren la calidad de la atención y fomenten un ecosistema médico conectado y confiable.</span></p>
                </div>

                <div class="mb-12 md:mb-16">
                    <h3 class="text-2xl md:text-3xl font-semibold text-sky-700 mb-6 text-center">Aplicaciones Prácticas Transformadoras</h3>
                    <p class="text-center text-slate-600 mb-8 max-w-xl mx-auto">Nuestra plataforma ofrece soluciones tangibles a través de diversos casos de uso, diseñados para las necesidades reales del entorno hospitalario.</p>
                    <div id="useCasesTabs" class="max-w-4xl mx-auto">
                        <div class="flex flex-wrap justify-center border-b border-slate-300 mb-6">
                            <button data-tab="hce" class="tab-button active text-sm md:text-base py-2 px-4 font-medium text-slate-600 hover:bg-teal-500 hover:text-white rounded-t-md">Historias Clínicas</button>
                            <button data-tab="trazabilidad" class="tab-button text-sm md:text-base py-2 px-4 font-medium text-slate-600 hover:bg-teal-500 hover:text-white rounded-t-md">Trazabilidad Medicamentos</button>
                            <button data-tab="consentimientos" class="tab-button text-sm md:text-base py-2 px-4 font-medium text-slate-600 hover:bg-teal-500 hover:text-white rounded-t-md">Consentimientos Digitales</button>
                            <button data-tab="credenciales" class="tab-button text-sm md:text-base py-2 px-4 font-medium text-slate-600 hover:bg-teal-500 hover:text-white rounded-t-md">Credenciales Profesionales</button>
                            <button data-tab="ensayos" class="tab-button text-sm md:text-base py-2 px-4 font-medium text-slate-600 hover:bg-teal-500 hover:text-white rounded-t-md">Ensayos Clínicos</button>
                        </div>
                        <div id="tabContent" class="p-1 md:p-4 bg-slate-100 rounded-lg shadow">
                            <div data-tab-content="hce" class="tab-pane active">
                                <h4 class="text-xl font-semibold text-teal-600 mb-2">Historias Clínicas Electrónicas (HCE) Compartidas y Seguras</h4>
                                <p class="text-slate-700 mb-1">Permite el acceso instantáneo y seguro a la historia clínica completa del paciente por profesionales autorizados, a través de diferentes departamentos o incluso instituciones, siempre con el consentimiento del paciente. Garantiza una atención coordinada y evita duplicidad de pruebas.</p>
                                <p class="font-semibold text-sky-700">Beneficio Clave: <span class="font-normal text-slate-600">Mejora la calidad del diagnóstico y tratamiento, reduce errores y optimiza tiempos de atención.</span></p>

                                <div class="mt-6 p-4 bg-white rounded-lg shadow-inner">
                                    <h5 class="text-lg font-semibold text-sky-700 mb-3">Demostración HCE (Backend Mock)</h5>
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div>
                                            <h6 class="font-medium text-slate-700 mb-2">Crear Nueva HCE</h6>
                                            <input type="text" id="createHceId" placeholder="ID Paciente (ej. P001)" class="w-full px-3 py-2 border border-slate-300 rounded-md mb-2">
                                            <input type="text" id="createHceDiag" placeholder="Diagnóstico" class="w-full px-3 py-2 border border-slate-300 rounded-md mb-2">
                                            <input type="text" id="createHceTrat" placeholder="Tratamiento" class="w-full px-3 py-2 border border-slate-300 rounded-md mb-2">
                                            <button id="createHceBtn" class="bg-teal-600 hover:bg-teal-700 text-white font-semibold py-2 px-4 rounded-md text-sm">Crear HCE</button>
                                            <p id="createHceResult" class="mt-2 text-sm"></p>
                                        </div>
                                        <div>
                                            <h6 class="font-medium text-slate-700 mb-2">Consultar HCE Existente</h6>
                                            <input type="text" id="queryHceId" placeholder="ID Paciente (ej. P001)" class="w-full px-3 py-2 border border-slate-300 rounded-md mb-2">
                                            <button id="queryHceBtn" class="bg-sky-600 hover:bg-sky-700 text-white font-semibold py-2 px-4 rounded-md text-sm">Consultar HCE</button>
                                            <pre id="queryHceResult" class="mt-2 text-sm bg-slate-50 p-2 rounded-md overflow-auto"></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div data-tab-content="trazabilidad" class="tab-pane hidden">
                                <h4 class="text-xl font-semibold text-teal-600 mb-2">Trazabilidad de Medicamentos y Suministros Médicos</h4>
                                <p class="text-slate-700 mb-1">Registra cada etapa del ciclo de vida de un medicamento o dispositivo, desde su fabricación hasta su administración. Asegura autenticidad, previene falsificación y facilita la gestión de inventario.</p>
                                <p class="font-semibold text-sky-700">Beneficio Clave: <span class="font-normal text-slate-600">Garantiza seguridad del paciente, combate fraude farmacéutico y optimiza la cadena de suministro.</span></p>

                                <div class="mt-6 p-4 bg-white rounded-lg shadow-inner">
                                    <h5 class="text-lg font-semibold text-sky-700 mb-3">Demostración Trazabilidad Medicamentos (Backend Mock)</h5>
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div>
                                            <h6 class="font-medium text-slate-700 mb-2">Registrar Nuevo Medicamento</h6>
                                            <input type="text" id="regMedId" placeholder="ID Medicamento (ej. MED001)" class="w-full px-3 py-2 border border-slate-300 rounded-md mb-2">
                                            <input type="text" id="regMedNombre" placeholder="Nombre" class="w-full px-3 py-2 border border-slate-300 rounded-md mb-2">
                                            <input type="text" id="regMedLote" placeholder="Lote" class="w-full px-3 py-2 border border-slate-300 rounded-md mb-2">
                                            <input type="text" id="regMedFabricante" placeholder="Fabricante" class="w-full px-3 py-2 border border-slate-300 rounded-md mb-2">
                                            <input type="date" id="regMedFechaFab" placeholder="Fecha Fabricación" class="w-full px-3 py-2 border border-slate-300 rounded-md mb-2">
                                            <button id="regMedBtn" class="bg-teal-600 hover:bg-teal-700 text-white font-semibold py-2 px-4 rounded-md text-sm">Registrar Medicamento</button>
                                            <p id="regMedResult" class="mt-2 text-sm"></p>
                                        </div>
                                        <div>
                                            <h6 class="font-medium text-slate-700 mb-2">Consultar Trazabilidad</h6>
                                            <input type="text" id="queryMedId" placeholder="ID Medicamento (ej. MED001)" class="w-full px-3 py-2 border border-slate-300 rounded-md mb-2">
                                            <button id="queryMedBtn" class="bg-sky-600 hover:bg-sky-700 text-white font-semibold py-2 px-4 rounded-md text-sm">Consultar Trazabilidad</button>
                                            <pre id="queryMedResult" class="mt-2 text-sm bg-slate-50 p-2 rounded-md overflow-auto"></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div data-tab-content="consentimientos" class="tab-pane hidden">
                                <h4 class="text-xl font-semibold text-teal-600 mb-2">Gestión de Consentimientos Informados Digitales</h4>
                                <p class="text-slate-700 mb-1">Digitaliza y securiza la obtención y gestión de consentimientos para tratamientos o estudios. Cada consentimiento se registra inmutablemente en la blockchain, garantizando validez y auditoría.</p>
                                <p class="font-semibold text-sky-700">Beneficio Clave: <span class="font-normal text-slate-600">Fortalece protección legal, agiliza procesos administrativos y reduce uso de papel.</span></p>

                                <div class="mt-6 p-4 bg-white rounded-lg shadow-inner">
                                    <h5 class="text-lg font-semibold text-sky-700 mb-3">Demostración Consentimientos (Backend Mock)</h5>
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div>
                                            <h6 class="font-medium text-slate-700 mb-2">Registrar Nuevo Consentimiento</h6>
                                            <input type="text" id="regConsPacienteId" placeholder="ID Paciente (ej. P001)" class="w-full px-3 py-2 border border-slate-300 rounded-md mb-2">
                                            <input type="text" id="regConsTipo" placeholder="Tipo Consentimiento (ej. Cirugía)" class="w-full px-3 py-2 border border-slate-300 rounded-md mb-2">
                                            <input type="date" id="regConsFecha" placeholder="Fecha Consentimiento" class="w-full px-3 py-2 border border-slate-300 rounded-md mb-2">
                                            <select id="regConsEstado" class="w-full px-3 py-2 border border-slate-300 rounded-md mb-2">
                                                <option value="otorgado">Otorgado</option>
                                                <option value="denegado">Denegado</option>
                                                <option value="revocado">Revocado</option>
                                            </select>
                                            <button id="regConsBtn" class="bg-teal-600 hover:bg-teal-700 text-white font-semibold py-2 px-4 rounded-md text-sm">Registrar Consentimiento</button>
                                            <p id="regConsResult" class="mt-2 text-sm"></p>
                                        </div>
                                        <div>
                                            <h6 class="font-medium text-slate-700 mb-2">Consultar Consentimiento</h6>
                                            <input type="text" id="queryConsPacienteId" placeholder="ID Paciente (ej. P001)" class="w-full px-3 py-2 border border-slate-300 rounded-md mb-2">
                                            <button id="queryConsBtn" class="bg-sky-600 hover:bg-sky-700 text-white font-semibold py-2 px-4 rounded-md text-sm">Consultar Consentimiento</button>
                                            <pre id="queryConsResult" class="mt-2 text-sm bg-slate-50 p-2 rounded-md overflow-auto"></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div data-tab-content="credenciales" class="tab-pane hidden">
                                <h4 class="text-xl font-semibold text-teal-600 mb-2">Credenciales de Profesionales de la Salud</h4>
                                <p class="text-slate-700 mb-1">Crea un registro inmutable y verificable de licencias y certificaciones del personal sanitario, facilitando la verificación por hospitales y garantizando cumplimiento normativo.</p>
                                <p class="font-semibold text-sky-700">Beneficio Clave: <span class="font-normal text-slate-600">Simplifica contratación, asegura calidad del personal y reduce riesgos legales.</span></p>

                                <div class="mt-6 p-4 bg-white rounded-lg shadow-inner">
                                    <h5 class="text-lg font-semibold text-sky-700 mb-3">Demostración Credenciales (Backend Mock)</h5>
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div>
                                            <h6 class="font-medium text-slate-700 mb-2">Registrar Nueva Credencial</h6>
                                            <input type="text" id="regCredId" placeholder="ID Profesional (ej. PROF001)" class="w-full px-3 py-2 border border-slate-300 rounded-md mb-2">
                                            <input type="text" id="regCredNombre" placeholder="Nombre Profesional" class="w-full px-3 py-2 border border-slate-300 rounded-md mb-2">
                                            <input type="text" id="regCredLicencia" placeholder="Licencia" class="w-full px-3 py-2 border border-slate-300 rounded-md mb-2">
                                            <input type="text" id="regCredEspecialidad" placeholder="Especialidad" class="w-full px-3 py-2 border border-slate-300 rounded-md mb-2">
                                            <button id="regCredBtn" class="bg-teal-600 hover:bg-teal-700 text-white font-semibold py-2 px-4 rounded-md text-sm">Registrar Credencial</button>
                                            <p id="regCredResult" class="mt-2 text-sm"></p>
                                        </div>
                                        <div>
                                            <h6 class="font-medium text-slate-700 mb-2">Consultar Credencial</h6>
                                            <input type="text" id="queryCredId" placeholder="ID Profesional (ej. PROF001)" class="w-full px-3 py-2 border border-slate-300 rounded-md mb-2">
                                            <button id="queryCredBtn" class="bg-sky-600 hover:bg-sky-700 text-white font-semibold py-2 px-4 rounded-md text-sm">Consultar Credencial</button>
                                            <pre id="queryCredResult" class="mt-2 text-sm bg-slate-50 p-2 rounded-md overflow-auto"></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div data-tab-content="ensayos" class="tab-pane hidden">
                                <h4 class="text-xl font-semibold text-teal-600 mb-2">Gestión de Ensayos Clínicos</h4>
                                <p class="text-slate-700 mb-1">Proporciona una plataforma segura para registrar y compartir datos de ensayos clínicos, asegurando integridad, transparencia e inmutabilidad de resultados. Acelera aprobación de tratamientos y mejora confianza en investigación.</p>
                                <p class="font-semibold text-sky-700">Beneficio Clave: <span class="font-normal text-slate-600">Agiliza investigación médica, garantiza fiabilidad de datos y acelera innovación.</span></p>

                                <div class="mt-6 p-4 bg-white rounded-lg shadow-inner">
                                    <h5 class="text-lg font-semibold text-sky-700 mb-3">Demostración Ensayos Clínicos (Backend Mock)</h5>
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div>
                                            <h6 class="font-medium text-slate-700 mb-2">Registrar Nuevo Ensayo</h6>
                                            <input type="text" id="regEnsayoId" placeholder="ID Ensayo (ej. ENS001)" class="w-full px-3 py-2 border border-slate-300 rounded-md mb-2">
                                            <input type="text" id="regEnsayoNombre" placeholder="Nombre Ensayo" class="w-full px-3 py-2 border border-slate-300 rounded-md mb-2">
                                            <input type="text" id="regEnsayoFase" placeholder="Fase (ej. Fase 2)" class="w-full px-3 py-2 border border-slate-300 rounded-md mb-2">
                                            <input type="date" id="regEnsayoFechaInicio" placeholder="Fecha Inicio" class="w-full px-3 py-2 border border-slate-300 rounded-md mb-2">
                                            <input type="date" id="regEnsayoFechaFin" placeholder="Fecha Fin (opcional)" class="w-full px-3 py-2 border border-slate-300 rounded-md mb-2">
                                            <button id="regEnsayoBtn" class="bg-teal-600 hover:bg-teal-700 text-white font-semibold py-2 px-4 rounded-md text-sm">Registrar Ensayo</button>
                                            <p id="regEnsayoResult" class="mt-2 text-sm"></p>
                                        </div>
                                        <div>
                                            <h6 class="font-medium text-slate-700 mb-2">Consultar Ensayo</h6>
                                            <input type="text" id="queryEnsayoId" placeholder="ID Ensayo (ej. ENS001)" class="w-full px-3 py-2 border border-slate-300 rounded-md mb-2">
                                            <button id="queryEnsayoBtn" class="bg-sky-600 hover:bg-sky-700 text-white font-semibold py-2 px-4 rounded-md text-sm">Consultar Ensayo</button>
                                            <pre id="queryEnsayoResult" class="mt-2 text-sm bg-slate-50 p-2 rounded-md overflow-auto"></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div>
                    <h3 class="text-2xl md:text-3xl font-semibold text-sky-700 mb-6 text-center">Valores Añadidos Clave</h3>
                     <p class="text-center text-slate-600 mb-8 max-w-xl mx-auto">Nuestra plataforma es una inversión estratégica que se traduce en beneficios tangibles para su institución.</p>
                    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
                        <div class="p-6 bg-teal-50 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300">
                            <span class="text-3xl text-teal-600">✔️</span>
                            <h4 class="font-semibold text-lg text-teal-700 mt-2 mb-1">Reducción de Errores</h4>
                            <p class="text-sm text-slate-600">Información precisa y actualizada minimiza discrepancias y errores médicos/administrativos.</p>
                        </div>
                        <div class="p-6 bg-teal-50 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300">
                            <span class="text-3xl text-teal-600">💰</span>
                            <h4 class="font-semibold text-lg text-teal-700 mt-2 mb-1">Ahorro Económico</h4>
                            <p class="text-sm text-slate-600">Automatización, reducción de fraude y optimización de inventarios disminuyen costos operativos.</p>
                        </div>
                        <div class="p-6 bg-teal-50 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300">
                            <span class="text-3xl text-teal-600">📋</span>
                            <h4 class="font-semibold text-lg text-teal-700 mt-2 mb-1">Cumplimiento Normativo</h4>
                            <p class="text-sm text-slate-600">Transparencia y auditabilidad facilitan el cumplimiento de regulaciones (GDPR, HIPAA).</p>
                        </div>
                        <div class="p-6 bg-teal-50 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300">
                            <span class="text-3xl text-teal-600">🛡️</span>
                            <h4 class="font-semibold text-lg text-teal-700 mt-2 mb-1">Seguridad Inquebrantable</h4>
                            <p class="text-sm text-slate-600">Datos cifrados y distribuidos protegen contra ciberataques y fugas de información.</p>
                        </div>
                        <div class="p-6 bg-teal-50 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300">
                            <span class="text-3xl text-teal-600">🤝</span>
                            <h4 class="font-semibold text-lg text-teal-700 mt-2 mb-1">Transparencia y Confianza</h4>
                            <p class="text-sm text-slate-600">Registro verificable e inmutable de interacciones fomenta la confianza entre participantes.</p>
                        </div>
                        <div class="p-6 bg-teal-50 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300">
                            <span class="text-3xl text-teal-600">📈</span>
                            <h4 class="font-semibold text-lg text-teal-700 mt-2 mb-1">Mejora Atención Paciente</h4>
                            <p class="text-sm text-slate-600">Acceso a información completa permite decisiones más informadas y mejor atención.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="impacto" class="py-16 md:py-24 bg-slate-100">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12 md:mb-16">
                    <h2 class="text-3xl md:text-4xl font-bold text-sky-700 mb-4">Impacto Económico y ROI</h2>
                    <p class="text-lg text-slate-600 max-w-2xl mx-auto">Una inversión inteligente con un retorno claro y medible, transformando desafíos en oportunidades económicas.</p>
                </div>
                <div class="grid lg:grid-cols-2 gap-8 md:gap-12 items-center">
                    <div class="space-y-6">
                        <div>
                            <h4 class="text-xl font-semibold text-teal-600 mb-1">Prevención de Pérdidas por Fraude</h4>
                            <p class="text-slate-700">La trazabilidad inmutable de medicamentos elimina falsificaciones y reduce fraude en reclamaciones, ahorrando costos significativos.</p>
                        </div>
                        <div>
                            <h4 class="text-xl font-semibold text-teal-600 mb-1">Reducción de Errores Médicos</h4>
                            <p class="text-slate-700">Menos errores implican menos reingresos, litigios y costos asociados a tratamientos adicionales.</p>
                        </div>
                        <div>
                            <h4 class="text-xl font-semibold text-teal-600 mb-1">Eficiencia Administrativa y Operativa</h4>
                            <p class="text-slate-700">Automatización de procesos y eliminación de papeleo disminuyen costos operativos y de personal.</p>
                        </div>
                         <div>
                            <h4 class="text-xl font-semibold text-teal-600 mb-1">Mejora en Decisiones Estratégicas</h4>
                            <p class="text-slate-700">Acceso a datos precisos en tiempo real permite una mejor asignación de recursos y planificación.</p>
                        </p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-xl">
                         <h4 class="text-xl font-semibold text-sky-700 mb-4 text-center">Estimaciones de Ahorro Potencial</h4>
                        <div class="chart-container">
                            <canvas id="impactoChart"></canvas>
                        </div>
                        <p class="text-xs text-slate-500 mt-2 text-center">Los datos representan promedios de rangos de ahorro estimados (15-30% en administración, 10-15% en cadena de suministro).</p>
                    </div>
                </div>
                 <p class="mt-10 text-center text-xl font-semibold text-sky-700">Conclusión: <span class="text-slate-700 font-normal">Invertir en nuestra solución blockchain es invertir en la resiliencia, eficiencia y rentabilidad de su institución.</span></p>
            </div>
        </section>

        <section id="arquitectura" class="py-16 md:py-24 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12 md:mb-16">
                    <h2 class="text-3xl md:text-4xl font-bold text-sky-700 mb-4">Arquitectura Tecnológica Robusta</h2>
                    <p class="text-lg text-slate-600 max-w-2xl mx-auto">Nuestra plataforma se basa en una arquitectura moderna y escalable, diseñada para integrarse y rendir óptimamente.</p>
                </div>

                <div class="architecture-diagram max-w-3xl mx-auto space-y-2">
                    <div class="box">
                        <h4 class="font-semibold text-teal-600">FRONTEND WEB/MOBILE</h4>
                        <p class="text-xs text-slate-500">(React, Angular, Vue.js / React Native, Flutter)</p>
                        <p class="text-sm text-slate-700 mt-1">Interfaces intuitivas para gestores, médicos y personal.</p>
                    </div>
                    <div class="connector arrow-down"></div>
                    <div class="text-center text-sm font-medium text-slate-500 my-1">(API RESTful)</div>
                    <div class="box">
                        <h4 class="font-semibold text-teal-600">BACKEND DE APLICACIÓN</h4>
                        <p class="text-xs text-slate-500">(Node.js, Java, Python, .NET)</p>
                        <p class="text-sm text-slate-700 mt-1">Lógica de negocio, procesa solicitudes, interactúa con SDK.</p>
                    </div>
                    <div class="connector arrow-down"></div>
                     <div class="text-center text-sm font-medium text-slate-500 my-1">(SDK de Hyperledger Fabric)</div>
                    <div class="box group-box">
                        <h4 class="font-semibold text-teal-700 mb-3">RED HYPERLEDGER FABRIC</h4>
                        <div class="grid sm:grid-cols-2 gap-3 text-left">
                            <div class="box !bg-teal-100 !border-teal-500">
                                <h5 class="font-medium text-teal-700">Nodos Peer</h5>
                                <p class="text-xs text-slate-600">Mantienen ledger, ejecutan chaincode.</p>
                            </div>
                            <div class="box !bg-teal-100 !border-teal-500">
                                <h5 class="font-medium text-teal-700">Servicio de Ordenación</h5>
                                <p class="text-xs text-slate-600">Ordena transacciones, crea bloques.</p>
                            </div>
                            <div class="box !bg-teal-100 !border-teal-500">
                                <h5 class="font-medium text-teal-700">Autoridad de Certificación (CA)</h5>
                                <p class="text-xs text-slate-600">Emite y revoca certificados digitales.</p>
                            </div>
                            <div class="box !bg-teal-100 !border-teal-500">
                                <h5 class="font-medium text-teal-700">Bases de Datos de Estado</h5>
                                <p class="text-xs text-slate-600">(CouchDB/LevelDB) Consultas eficientes.</p>
                            </div>
                        </div>
                        <p class="text-sm text-slate-700 mt-3">Infraestructura blockchain subyacente.</p>
                    </div>
                </div>

                <div class="mt-12">
                    <h3 class="text-2xl font-semibold text-sky-700 mb-4 text-center">Beneficios de esta Arquitectura</h3>
                    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                        <div class="p-4 bg-sky-50 rounded-lg text-center">
                            <h5 class="font-semibold text-sky-700">Modularidad</h5>
                            <p class="text-sm text-slate-600">Actualización independiente de componentes.</p>
                        </div>
                        <div class="p-4 bg-sky-50 rounded-lg text-center">
                            <h5 class="font-semibold text-sky-700">Escalabilidad</h5>
                            <p class="text-sm text-slate-600">Crece con las necesidades del hospital.</p>
                        </div>
                        <div class="p-4 bg-sky-50 rounded-lg text-center">
                            <h5 class="font-semibold text-sky-700">Seguridad</h5>
                            <p class="text-sm text-slate-600">Medidas robustas en cada capa.</p>
                        </div>
                        <div class="p-4 bg-sky-50 rounded-lg text-center">
                            <h5 class="font-semibold text-sky-700">Integración</h5>
                            <p class="text-sm text-slate-600">Conexión con sistemas EMR/HIS existentes.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="contacto" class="py-16 md:py-24 bg-teal-700 text-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold mb-4">Hablemos del Futuro de la Salud</h2>
                    <p class="text-lg text-teal-100 max-w-xl mx-auto">Estamos listos para discutir cómo nuestra solución puede adaptarse a las necesidades específicas de su hospital.</p>
                </div>
                <div class="max-w-2xl mx-auto bg-white text-slate-800 p-8 rounded-xl shadow-2xl">
                    <form id="contactForm">
                        <div class="grid md:grid-cols-2 gap-6 mb-6">
                            <div>
                                <label for="nombre" class="block text-sm font-medium text-slate-700 mb-1">Nombre Completo</label>
                                <input type="text" id="nombre" name="nombre" required class="w-full px-4 py-2 border border-slate-300 rounded-md shadow-sm focus:ring-teal-500 focus:border-teal-500">
                            </div>
                            <div>
                                <label for="cargo" class="block text-sm font-medium text-slate-700 mb-1">Cargo</label>
                                <input type="text" id="cargo" name="cargo" class="w-full px-4 py-2 border border-slate-300 rounded-md shadow-sm focus:ring-teal-500 focus:border-teal-500">
                            </div>
                        </div>
                        <div class="mb-6">
                            <label for="institucion" class="block text-sm font-medium text-slate-700 mb-1">Institución/Hospital</label>
                            <input type="text" id="institucion" name="institucion" class="w-full px-4 py-2 border border-slate-300 rounded-md shadow-sm focus:ring-teal-500 focus:border-teal-500">
                        </div>
                        <div class="grid md:grid-cols-2 gap-6 mb-6">
                            <div>
                                <label for="email" class="block text-sm font-medium text-slate-700 mb-1">Correo Electrónico</label>
                                <input type="email" id="email" name="email" required class="w-full px-4 py-2 border border-slate-300 rounded-md shadow-sm focus:ring-teal-500 focus:border-teal-500">
                            </div>
                            <div>
                                <label for="telefono" class="block text-sm font-medium text-slate-700 mb-1">Número de Teléfono</label>
                                <input type="tel" id="telefono" name="telefono" class="w-full px-4 py-2 border border-slate-300 rounded-md shadow-sm focus:ring-teal-500 focus:border-teal-500">
                            </div>
                        </div>
                        <div class="mb-6">
                            <label for="mensaje" class="block text-sm font-medium text-slate-700 mb-1">Mensaje</label>
                            <textarea id="mensaje" name="mensaje" rows="4" required class="w-full px-4 py-2 border border-slate-300 rounded-md shadow-sm focus:ring-teal-500 focus:border-teal-500"></textarea>
                        </div>
                        <div class="text-center">
                            <button type="submit" class="bg-teal-600 hover:bg-teal-700 text-white font-semibold py-3 px-10 rounded-lg shadow-md transition duration-300 text-lg">Enviar Mensaje</button>
                        </div>
                    </form>
                    <div id="formMessage" class="mt-4 text-center"></div>
                </div>
                <div class="mt-12 text-center text-teal-100">
                    <p class="mb-2">O contáctenos directamente:</p>
                    <p><strong>Correo:</strong> info@[suempresa.com] | <strong>Teléfono:</strong> [+XX XXX XXX XXX]</p>
                    <p>[Dirección de su Empresa/Oficina]</p>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-slate-800 text-slate-300 py-8 text-center">
        <p>&copy; <span id="currentYear"></span> [Nombre de su Empresa/Organización]. Todos los derechos reservados.</p>
        <p class="text-sm">Construyendo el futuro de la salud con tecnología blockchain.</p>
    </footer>

    <script>
        const API_BASE_URL = 'http://localhost:3000/api'; // URL base de tu backend

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Active navigation link highlighting
        const navLinks = document.querySelectorAll('.nav-link');
        const sections = document.querySelectorAll('main section');

        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (pageYOffset >= sectionTop - 70) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active-nav');
                if (link.getAttribute('href').substring(1) === current) {
                    link.classList.add('active-nav');
                }
            });
             if (pageYOffset < sections[0].offsetTop - 70) {
                 navLinks.forEach(link => link.classList.remove('active-nav'));
                 document.querySelector('a[href="#inicio"]').classList.add('active-nav');
            }
        });
         if (pageYOffset < sections[0].offsetTop - 70) {
            document.querySelector('a[href="#inicio"]').classList.add('active-nav');
        }


        // Tab functionality for Casos de Uso
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabPanes = document.querySelectorAll('.tab-pane');

        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                const tabTarget = button.getAttribute('data-tab');

                tabButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');

                tabPanes.forEach(pane => {
                    if (pane.getAttribute('data-tab-content') === tabTarget) {
                        pane.classList.remove('hidden');
                        pane.classList.add('active');
                    } else {
                        pane.classList.add('hidden');
                        pane.classList.remove('active');
                    }
                });
            });
        });

        // Chart.js for Impacto Económico
        const ctxImpacto = document.getElementById('impactoChart');
        if (ctxImpacto) {
            new Chart(ctxImpacto, {
                type: 'bar',
                data: {
                    labels: ['Ahorro Administrativo Estimado (%)', 'Ahorro Cadena Suministro Estimado (%)'],
                    datasets: [{
                        label: 'Porcentaje de Ahorro Potencial',
                        data: [22.5, 12.5],
                        backgroundColor: [
                            'rgba(13, 148, 136, 0.7)',
                            'rgba(3, 105, 161, 0.7)'
                        ],
                        borderColor: [
                            'rgba(13, 148, 136, 1)',
                            'rgba(3, 105, 161, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 35,
                            title: {
                                display: true,
                                text: 'Porcentaje (%)'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed.y !== null) {
                                        label += context.parsed.y + '%';
                                    }
                                    if (context.label.includes("Administrativo")) {
                                        label += ' (rango real: 15-30%)';
                                    } else if (context.label.includes("Suministro")) {
                                        label += ' (rango real: 10-15%)';
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });
        }

        // Backend Connection Logic (Initial mock connect)
        const connectFabricBtn = document.getElementById('connectFabricBtn');
        const fabricStatus = document.getElementById('fabricStatus');

        if (connectFabricBtn) {
            connectFabricBtn.addEventListener('click', async () => {
                fabricStatus.textContent = 'Conectando a Fabric (mock)...';
                fabricStatus.className = 'mt-4 text-slate-700 text-sm';
                try {
                    const response = await fetch(`${API_BASE_URL}/connect-fabric`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        }
                    });
                    const result = await response.json();
                    // MODIFICADO: Verificar result.success en lugar de result.status
                    if (result.success) {
                        fabricStatus.textContent = `Estado: ${result.message}`;
                        fabricStatus.className = 'mt-4 text-green-600 text-sm font-semibold';
                    } else {
                        fabricStatus.textContent = `Error: ${result.message}`;
                        fabricStatus.className = 'mt-4 text-red-600 text-sm font-semibold';
                    }
                } catch (error) {
                    fabricStatus.textContent = `Error de conexión al backend: ${error.message}. Asegúrate de que el backend esté corriendo en ${API_BASE_URL.replace('/api', '')}.`;
                    fabricStatus.className = 'mt-4 text-red-600 text-sm font-semibold';
                }
            });
        }

        // --- Demo Logic for all tabs ---

        // HCE Interaction Logic
        const createHceBtn = document.getElementById('createHceBtn');
        const createHceIdInput = document.getElementById('createHceId');
        const createHceDiagInput = document.getElementById('createHceDiag');
        const createHceTratInput = document.getElementById('createHceTrat');
        const createHceResult = document.getElementById('createHceResult');

        const queryHceBtn = document.getElementById('queryHceBtn');
        const queryHceIdInput = document.getElementById('queryHceId');
        const queryHceResult = document.getElementById('queryHceResult');

        if (createHceBtn) {
            createHceBtn.addEventListener('click', async () => {
                const pacienteId = createHceIdInput.value.trim();
                const diagnostico = createHceDiagInput.value.trim();
                const tratamiento = createHceTratInput.value.trim();

                if (!pacienteId || !diagnostico || !tratamiento) {
                    createHceResult.textContent = 'Por favor, rellena todos los campos para crear la HCE.';
                    createHceResult.className = 'mt-2 text-red-600 text-sm';
                    return;
                }

                createHceResult.textContent = 'Creando HCE...';
                createHceResult.className = 'mt-2 text-slate-700 text-sm';

                try {
                    const response = await fetch(`${API_BASE_URL}/hce/crear`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({ pacienteId, diagnostico, tratamiento })
                    });
                    const result = await response.json();
                    // MODIFICADO: Verificar result.success en lugar de result.status
                    if (result.success) {
                        createHceResult.textContent = `Éxito: ${result.message}`;
                        createHceResult.className = 'mt-2 text-green-600 text-sm font-semibold';
                        createHceIdInput.value = '';
                        createHceDiagInput.value = '';
                        createHceTratInput.value = '';
                    } else {
                        createHceResult.textContent = `Error: ${result.message}`;
                        createHceResult.className = 'mt-2 text-red-600 text-sm font-semibold';
                    }
                } catch (error) {
                    createHceResult.textContent = `Error al conectar con el backend: ${error.message}`;
                    createHceResult.className = 'mt-2 text-red-600 text-sm font-semibold';
                }
            });
        }

        if (queryHceBtn) {
            queryHceBtn.addEventListener('click', async () => {
                const pacienteId = queryHceIdInput.value.trim();

                if (!pacienteId) {
                    queryHceResult.textContent = 'Por favor, introduce el ID del paciente para consultar.';
                    queryHceResult.className = 'mt-2 text-red-600 text-sm';
                    return;
                }

                queryHceResult.textContent = 'Consultando HCE...';
                queryHceResult.className = 'mt-2 text-slate-700 text-sm';

                try {
                    const response = await fetch(`${API_BASE_URL}/hce/${pacienteId}`);
                    const result = await response.json();
                    // MODIFICADO: Verificar result.success en lugar de result.status
                    if (result.success) {
                        queryHceResult.innerHTML = `<span class="text-green-600 font-semibold">Éxito:</span><br>${JSON.stringify(result.data, null, 2)}`;
                        queryHceResult.className = 'mt-2 text-sm bg-slate-50 p-2 rounded-md overflow-auto border border-green-200';
                    } else {
                        queryHceResult.textContent = `Error: ${result.message}`;
                        queryHceResult.className = 'mt-2 text-red-600 text-sm font-semibold';
                    }
                } catch (error) {
                    queryHceResult.textContent = `Error al conectar con el backend: ${error.message}`;
                    queryHceResult.className = 'mt-2 text-red-600 text-sm font-semibold';
                }
            });
        }

        // Trazabilidad Medicamentos Interaction Logic
        const regMedBtn = document.getElementById('regMedBtn');
        const regMedIdInput = document.getElementById('regMedId');
        const regMedNombreInput = document.getElementById('regMedNombre');
        const regMedLoteInput = document.getElementById('regMedLote');
        const regMedFabricanteInput = document.getElementById('regMedFabricante');
        const regMedFechaFabInput = document.getElementById('regMedFechaFab');
        const regMedResult = document.getElementById('regMedResult');

        const queryMedBtn = document.getElementById('queryMedBtn');
        const queryMedIdInput = document.getElementById('queryMedId');
        const queryMedResult = document.getElementById('queryMedResult');

        if (regMedBtn) {
            regMedBtn.addEventListener('click', async () => {
                const medicamentoId = regMedIdInput.value.trim();
                const nombre = regMedNombreInput.value.trim();
                const lote = regMedLoteInput.value.trim();
                const fabricante = regMedFabricanteInput.value.trim();
                const fechaFabricacion = regMedFechaFabInput.value;

                if (!medicamentoId || !nombre || !lote || !fabricante || !fechaFabricacion) {
                    regMedResult.textContent = 'Por favor, rellena todos los campos para registrar el medicamento.';
                    regMedResult.className = 'mt-2 text-red-600 text-sm';
                    return;
                }

                regMedResult.textContent = 'Registrando medicamento...';
                regMedResult.className = 'mt-2 text-slate-700 text-sm';

                try {
                    const response = await fetch(`${API_BASE_URL}/medicamentos/registrar`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ medicamentoId, nombre, lote, fabricante, fechaFabricacion })
                    });
                    const result = await response.json();
                    // MODIFICADO: Verificar result.success en lugar de result.status
                    if (result.success) {
                        regMedResult.textContent = `Éxito: ${result.message}`;
                        regMedResult.className = 'mt-2 text-green-600 text-sm font-semibold';
                        regMedIdInput.value = ''; regMedNombreInput.value = ''; regMedLoteInput.value = '';
                        regMedFabricanteInput.value = ''; regMedFechaFabInput.value = '';
                    } else {
                        regMedResult.textContent = `Error: ${result.message}`;
                        regMedResult.className = 'mt-2 text-red-600 text-sm font-semibold';
                    }
                } catch (error) {
                    regMedResult.textContent = `Error al conectar con el backend: ${error.message}`;
                    regMedResult.className = 'mt-2 text-red-600 text-sm font-semibold';
                }
            });
        }

        if (queryMedBtn) {
            queryMedBtn.addEventListener('click', async () => {
                const medicamentoId = queryMedIdInput.value.trim();

                if (!medicamentoId) {
                    queryMedResult.textContent = 'Por favor, introduce el ID del medicamento para consultar.';
                    queryMedResult.className = 'mt-2 text-red-600 text-sm';
                    return;
                }

                queryMedResult.textContent = 'Consultando trazabilidad...';
                queryMedResult.className = 'mt-2 text-slate-700 text-sm';

                try {
                    const response = await fetch(`${API_BASE_URL}/medicamentos/trazabilidad/${medicamentoId}`);
                    const result = await response.json();
                    // MODIFICADO: Verificar result.success en lugar de result.status
                    if (result.success) {
                        queryMedResult.innerHTML = `<span class="text-green-600 font-semibold">Éxito:</span><br>${JSON.stringify(result.data, null, 2)}`;
                        queryMedResult.className = 'mt-2 text-sm bg-slate-50 p-2 rounded-md overflow-auto border border-green-200';
                    } else {
                        queryMedResult.textContent = `Error: ${result.message}`;
                        queryMedResult.className = 'mt-2 text-red-600 text-sm font-semibold';
                    }
                } catch (error) {
                    queryMedResult.textContent = `Error al conectar con el backend: ${error.message}`;
                    queryMedResult.className = 'mt-2 text-red-600 text-sm font-semibold';
                }
            });
        }

        // Consentimientos Interaction Logic
        const regConsBtn = document.getElementById('regConsBtn');
        const regConsPacienteIdInput = document.getElementById('regConsPacienteId');
        const regConsTipoInput = document.getElementById('regConsTipo');
        const regConsFechaInput = document.getElementById('regConsFecha');
        const regConsEstadoSelect = document.getElementById('regConsEstado');
        const regConsResult = document.getElementById('regConsResult');

        const queryConsBtn = document.getElementById('queryConsBtn');
        const queryConsPacienteIdInput = document.getElementById('queryConsPacienteId');
        const queryConsResult = document.getElementById('queryConsResult');

        if (regConsBtn) {
            regConsBtn.addEventListener('click', async () => {
                const pacienteId = regConsPacienteIdInput.value.trim();
                const tipoConsentimiento = regConsTipoInput.value.trim();
                const fechaConsentimiento = regConsFechaInput.value;
                const estado = regConsEstadoSelect.value;

                if (!pacienteId || !tipoConsentimiento || !fechaConsentimiento || !estado) {
                    regConsResult.textContent = 'Por favor, rellena todos los campos para registrar el consentimiento.';
                    regConsResult.className = 'mt-2 text-red-600 text-sm';
                    return;
                }

                regConsResult.textContent = 'Registrando consentimiento...';
                regConsResult.className = 'mt-2 text-slate-700 text-sm';

                try {
                    const response = await fetch(`${API_BASE_URL}/consentimientos/registrar`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ pacienteId, tipoConsentimiento, fechaConsentimiento, estado })
                    });
                    const result = await response.json();
                    // MODIFICADO: Verificar result.success en lugar de result.status
                    if (result.success) {
                        regConsResult.textContent = `Éxito: ${result.message}`;
                        regConsResult.className = 'mt-2 text-green-600 text-sm font-semibold';
                        regConsPacienteIdInput.value = ''; regConsTipoInput.value = '';
                        regConsFechaInput.value = ''; regConsEstadoSelect.value = 'otorgado';
                    } else {
                        regConsResult.textContent = `Error: ${result.message}`;
                        regConsResult.className = 'mt-2 text-red-600 text-sm font-semibold';
                    }
                } catch (error) {
                    regConsResult.textContent = `Error al conectar con el backend: ${error.message}`;
                    regConsResult.className = 'mt-2 text-red-600 text-sm font-semibold';
                }
            });
        }

        if (queryConsBtn) {
            queryConsBtn.addEventListener('click', async () => {
                const pacienteId = queryConsPacienteIdInput.value.trim();

                if (!pacienteId) {
                    queryConsResult.textContent = 'Por favor, introduce el ID del paciente para consultar.';
                    queryConsResult.className = 'mt-2 text-red-600 text-sm';
                    return;
                }

                queryConsResult.textContent = 'Consultando consentimiento...';
                queryConsResult.className = 'mt-2 text-slate-700 text-sm';

                try {
                    const response = await fetch(`${API_BASE_URL}/consentimientos/${pacienteId}`);
                    const result = await response.json();
                    // MODIFICADO: Verificar result.success en lugar de result.status
                    if (result.success) {
                        queryConsResult.innerHTML = `<span class="text-green-600 font-semibold">Éxito:</span><br>${JSON.stringify(result.data, null, 2)}`;
                        queryConsResult.className = 'mt-2 text-sm bg-slate-50 p-2 rounded-md overflow-auto border border-green-200';
                    } else {
                        queryConsResult.textContent = `Error: ${result.message}`;
                        queryConsResult.className = 'mt-2 text-red-600 text-sm font-semibold';
                    }
                } catch (error) {
                    queryConsResult.textContent = `Error al conectar con el backend: ${error.message}`;
                    queryConsResult.className = 'mt-2 text-red-600 text-sm font-semibold';
                }
            });
        }

        // Credenciales Interaction Logic
        const regCredBtn = document.getElementById('regCredBtn');
        const regCredIdInput = document.getElementById('regCredId');
        const regCredNombreInput = document.getElementById('regCredNombre');
        const regCredLicenciaInput = document.getElementById('regCredLicencia');
        const regCredEspecialidadInput = document.getElementById('regCredEspecialidad');
        const regCredResult = document.getElementById('regCredResult');

        const queryCredBtn = document.getElementById('queryCredBtn');
        const queryCredIdInput = document.getElementById('queryCredId');
        const queryCredResult = document.getElementById('queryCredResult');

        if (regCredBtn) {
            regCredBtn.addEventListener('click', async () => {
                const profesionalId = regCredIdInput.value.trim();
                const nombre = regCredNombreInput.value.trim();
                const licencia = regCredLicenciaInput.value.trim();
                const especialidad = regCredEspecialidadInput.value.trim();

                if (!profesionalId || !nombre || !licencia || !especialidad) {
                    regCredResult.textContent = 'Por favor, rellena todos los campos para registrar la credencial.';
                    regCredResult.className = 'mt-2 text-red-600 text-sm';
                    return;
                }

                regCredResult.textContent = 'Registrando credencial...';
                regCredResult.className = 'mt-2 text-slate-700 text-sm';

                try {
                    const response = await fetch(`${API_BASE_URL}/credenciales/registrar`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ profesionalId, nombre, licencia, especialidad })
                    });
                    const result = await response.json();
                    // MODIFICADO: Verificar result.success en lugar de result.status
                    if (result.success) {
                        regCredResult.textContent = `Éxito: ${result.message}`;
                        regCredResult.className = 'mt-2 text-green-600 text-sm font-semibold';
                        regCredIdInput.value = ''; regCredNombreInput.value = '';
                        regCredLicenciaInput.value = ''; regCredEspecialidadInput.value = '';
                    } else {
                        regCredResult.textContent = `Error: ${result.message}`;
                        regCredResult.className = 'mt-2 text-red-600 text-sm font-semibold';
                    }
                } catch (error) {
                    regCredResult.textContent = `Error al conectar con el backend: ${error.message}`;
                    regCredResult.className = 'mt-2 text-red-600 text-sm font-semibold';
                }
            });
        }

        if (queryCredBtn) {
            queryCredBtn.addEventListener('click', async () => {
                const profesionalId = queryCredIdInput.value.trim();

                if (!profesionalId) {
                    queryCredResult.textContent = 'Por favor, introduce el ID del profesional para consultar.';
                    queryCredResult.className = 'mt-2 text-red-600 text-sm';
                    return;
                }

                queryCredResult.textContent = 'Consultando credencial...';
                queryCredResult.className = 'mt-2 text-slate-700 text-sm';

                try {
                    const response = await fetch(`${API_BASE_URL}/credenciales/${profesionalId}`);
                    const result = await response.json();
                    // MODIFICADO: Verificar result.success en lugar de result.status
                    if (result.success) {
                        queryCredResult.innerHTML = `<span class="text-green-600 font-semibold">Éxito:</span><br>${JSON.stringify(result.data, null, 2)}`;
                        queryCredResult.className = 'mt-2 text-sm bg-slate-50 p-2 rounded-md overflow-auto border border-green-200';
                    } else {
                        queryCredResult.textContent = `Error: ${result.message}`;
                        queryCredResult.className = 'mt-2 text-red-600 text-sm font-semibold';
                    }
                } catch (error) {
                    queryCredResult.textContent = `Error al conectar con el backend: ${error.message}`;
                    queryCredResult.className = 'mt-2 text-red-600 text-sm font-semibold';
                }
            });
        }

        // Ensayos Clínicos Interaction Logic
        const regEnsayoBtn = document.getElementById('regEnsayoBtn');
        const regEnsayoIdInput = document.getElementById('regEnsayoId');
        const regEnsayoNombreInput = document.getElementById('regEnsayoNombre');
        const regEnsayoFaseInput = document.getElementById('regEnsayoFase');
        const regEnsayoFechaInicioInput = document.getElementById('regEnsayoFechaInicio');
        const regEnsayoFechaFinInput = document.getElementById('regEnsayoFechaFin');
        const regEnsayoResult = document.getElementById('regEnsayoResult');

        const queryEnsayoBtn = document.getElementById('queryEnsayoBtn');
        const queryEnsayoIdInput = document.getElementById('queryEnsayoId');
        const queryEnsayoResult = document.getElementById('queryEnsayoResult');

        if (regEnsayoBtn) {
            regEnsayoBtn.addEventListener('click', async () => {
                const ensayoId = regEnsayoIdInput.value.trim();
                const nombreEnsayo = regEnsayoNombreInput.value.trim();
                const fase = regEnsayoFaseInput.value.trim();
                const fechaInicio = regEnsayoFechaInicioInput.value;
                const fechaFin = regEnsayoFechaFinInput.value; // Puede ser opcional

                if (!ensayoId || !nombreEnsayo || !fase || !fechaInicio) {
                    regEnsayoResult.textContent = 'Por favor, rellena los campos obligatorios para registrar el ensayo.';
                    regEnsayoResult.className = 'mt-2 text-red-600 text-sm';
                    return;
                }

                regEnsayoResult.textContent = 'Registrando ensayo...';
                regEnsayoResult.className = 'mt-2 text-slate-700 text-sm';

                try {
                    const response = await fetch(`${API_BASE_URL}/ensayos/registrar`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ ensayoId, nombreEnsayo, fase, fechaInicio, fechaFin: fechaFin || null })
                    });
                    const result = await response.json();
                    // MODIFICADO: Verificar result.success en lugar de result.status
                    if (result.success) {
                        regEnsayoResult.textContent = `Éxito: ${result.message}`;
                        regEnsayoResult.className = 'mt-2 text-green-600 text-sm font-semibold';
                        regEnsayoIdInput.value = ''; regEnsayoNombreInput.value = '';
                        regEnsayoFaseInput.value = ''; regEnsayoFechaInicioInput.value = '';
                        regEnsayoFechaFinInput.value = '';
                    } else {
                        regEnsayoResult.textContent = `Error: ${result.message}`;
                        regEnsayoResult.className = 'mt-2 text-red-600 text-sm font-semibold';
                    }
                } catch (error) {
                    regEnsayoResult.textContent = `Error al conectar con el backend: ${error.message}`;
                    regEnsayoResult.className = 'mt-2 text-red-600 text-sm font-semibold';
                }
            });
        }

        if (queryEnsayoBtn) {
            queryEnsayoBtn.addEventListener('click', async () => {
                const ensayoId = queryEnsayoIdInput.value.trim();

                if (!ensayoId) {
                    queryEnsayoResult.textContent = 'Por favor, introduce el ID del ensayo para consultar.';
                    queryEnsayoResult.className = 'mt-2 text-red-600 text-sm';
                    return;
                }

                queryEnsayoResult.textContent = 'Consultando ensayo...';
                queryEnsayoResult.className = 'mt-2 text-slate-700 text-sm';

                try {
                    const response = await fetch(`${API_BASE_URL}/ensayos/${ensayoId}`);
                    const result = await response.json();
                    // MODIFICADO: Verificar result.success en lugar de result.status
                    if (result.success) {
                        queryEnsayoResult.innerHTML = `<span class="text-green-600 font-semibold">Éxito:</span><br>${JSON.stringify(result.data, null, 2)}`;
                        queryEnsayoResult.className = 'mt-2 text-sm bg-slate-50 p-2 rounded-md overflow-auto border border-green-200';
                    } else {
                        queryEnsayoResult.textContent = `Error: ${result.message}`;
                        queryEnsayoResult.className = 'mt-2 text-red-600 text-sm font-semibold';
                    }
                } catch (error) {
                    queryEnsayoResult.textContent = `Error al conectar con el backend: ${error.message}`;
                    queryEnsayoResult.className = 'mt-2 text-red-600 text-sm font-semibold';
                }
            });
        }


        // Contact Form basic handling (no backend connection for this form)
        const contactForm = document.getElementById('contactForm');
        const formMessage = document.getElementById('formMessage');
        if (contactForm) {
            contactForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const name = document.getElementById('nombre').value;
                const email = document.getElementById('email').value;
                const message = document.getElementById('mensaje').value;

                if (name.trim() === '' || email.trim() === '' || message.trim() === '') {
                    formMessage.textContent = 'Por favor, complete todos los campos obligatorios.';
                    formMessage.className = 'mt-4 text-center text-red-600';
                    return;
                }
                
                formMessage.textContent = 'Gracias por su mensaje. Nos pondremos en contacto con usted pronto.';
                formMessage.className = 'mt-4 text-center text-green-600';
                contactForm.reset();
            });
        }
        

        // Set current year in footer
        document.getElementById('currentYear').textContent = new Date().getFullYear();
    </script>
</body>
</html>
